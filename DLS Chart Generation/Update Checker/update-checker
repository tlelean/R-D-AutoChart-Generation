#!/usr/bin/env bash
# update-checker
# Returns "1" if any files exist in the update directory, else "0".

DIR="/var/opt/codesys/PlcLogic/DLS/Updates"

# create directory if missing (optional safety)
mkdir -p "$DIR"

# count files (non-hidden)
count=$(find "$DIR" -maxdepth 1 -type f ! -name '.*' | wc -l)

if [ "$count" -gt 0 ]; then
    echo "1"
else
    echo "0"
fi